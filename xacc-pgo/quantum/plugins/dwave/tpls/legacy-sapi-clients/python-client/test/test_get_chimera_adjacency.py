# Copyright Â© 2019 D-Wave Systems Inc.
# The software is licensed to authorized users only under the applicable license agreement.  See License.txt.

from dwave_sapi2.util import get_chimera_adjacency


def test_small():
    expected = set(
        [(0, 4), (1, 4), (2, 4), (3, 4), (0, 5), (1, 5), (2, 5), (3, 5),
         (0, 6), (1, 6), (2, 6), (3, 6), (0, 7), (1, 7), (2, 7), (3, 7),
         (4, 12), (8, 12), (9, 12), (10, 12), (11, 12), (5, 13), (8, 13),
         (9, 13), (10, 13), (11, 13), (6, 14), (8, 14), (9, 14), (10, 14),
         (11, 14), (7, 15), (8, 15), (9, 15), (10, 15), (11, 15), (0, 16),
         (1, 17), (2, 18), (3, 19), (16, 20), (17, 20), (18, 20), (19, 20),
         (16, 21), (17, 21), (18, 21), (19, 21), (16, 22), (17, 22), (18, 22),
         (19, 22), (16, 23), (17, 23), (18, 23), (19, 23), (8, 24), (9, 25),
         (10, 26), (11, 27), (20, 28), (24, 28), (25, 28), (26, 28), (27, 28),
         (21, 29), (24, 29), (25, 29), (26, 29), (27, 29), (22, 30), (24, 30),
         (25, 30), (26, 30), (27, 30), (23, 31), (24, 31), (25, 31), (26, 31),
         (27, 31), (4, 0), (4, 1), (4, 2), (4, 3), (5, 0), (5, 1), (5, 2),
         (5, 3), (6, 0), (6, 1), (6, 2), (6, 3), (7, 0), (7, 1), (7, 2),
         (7, 3), (12, 4), (12, 8), (12, 9), (12, 10), (12, 11), (13, 5),
         (13, 8), (13, 9), (13, 10), (13, 11), (14, 6), (14, 8), (14, 9),
         (14, 10), (14, 11), (15, 7), (15, 8), (15, 9), (15, 10), (15, 11),
         (16, 0), (17, 1), (18, 2), (19, 3), (20, 16), (20, 17), (20, 18),
         (20, 19), (21, 16), (21, 17), (21, 18), (21, 19), (22, 16), (22, 17),
         (22, 18), (22, 19), (23, 16), (23, 17), (23, 18), (23, 19), (24, 8),
         (25, 9), (26, 10), (27, 11), (28, 20), (28, 24), (28, 25), (28, 26),
         (28, 27), (29, 21), (29, 24), (29, 25), (29, 26), (29, 27), (30, 22),
         (30, 24), (30, 25), (30, 26), (30, 27), (31, 23), (31, 24), (31, 25),
         (31, 26), (31, 27)])
    assert get_chimera_adjacency(2) == expected


def test_defaults():
    assert get_chimera_adjacency(4, 4) == get_chimera_adjacency(4, 4, 4)
    assert get_chimera_adjacency(3, t=6) == get_chimera_adjacency(3, 3, 6)
    assert get_chimera_adjacency(5) == get_chimera_adjacency(5, 5, 4)
